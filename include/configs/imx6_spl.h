/*
 * Author: Tungyi Lin <tungyilin1127@gmail.com>
 *
 * Derived from EDM_CF_IMX6 code by TechNexion,Inc
 *
 * SPDX-License-Identifier:     GPL-2.0+
 */
#ifndef __IMX6_SPL_CONFIG_H
#define __IMX6_SPL_CONFIG_H

#ifdef CONFIG_SPL_BUILD

#define CONFIG_SPL_FRAMEWORK

#define	CONFIG_SPL_LDSCRIPT	"arch/arm/cpu/armv7/mx6/u-boot-spl.lds"
#define CONFIG_SPL_TEXT_BASE	0x00908000 
#define CONFIG_SPL_MAX_SIZE	(64 * 1024)
#define CONFIG_SPL_START_S_PATH	"arch/arm/cpu/armv7"
#define CONFIG_SPL_STACK	0x0091FFB8

#define CONFIG_SPL_LIBCOMMON_SUPPORT
#define CONFIG_SPL_LIBGENERIC_SUPPORT
#define CONFIG_SPL_SERIAL_SUPPORT

#define CONFIG_SPL_GPIO_SUPPORT

/* #define CONFIG_SPL_FAT_SUPPORT
   reduce BSS usage.
 */

#if defined(CONFIG_SPL_FAT_SUPPORT) || defined(CONFIG_SPL_EXT_SUPPORT)
#define CONFIG_SYS_MMC_SD_FAT_BOOT_PARTITION	1
#define CONFIG_SPL_FAT_LOAD_PAYLOAD_NAME	"u-boot.img"
#define CONFIG_SPL_LIBDISK_SUPPORT
#endif

#ifdef CONFIG_VAR_SOM_MX6
#define CONFIG_SPL_NAND_MXS
#define CONFIG_SPL_NAND_DRIVERS
#define CONFIG_SPL_DMA_SUPPORT
#else
#define CONFIG_SPL_SATA_SUPPORT
#endif

#define CONFIG_SPL_MMC_SUPPORT
#define CONFIG_SYS_MMCSD_RAW_MODE_U_BOOT_SECTOR	138 /* offset 69KB */
#define CONFIG_SYS_U_BOOT_MAX_SIZE_SECTORS	800 /* 400 KB */
#define CONFIG_SYS_MONITOR_LEN	(CONFIG_SYS_U_BOOT_MAX_SIZE_SECTORS/2*1024)

#define CONFIG_SPL_BOARD_INIT

/* BSS and malloc from OCRAM only. Size to limted to Solo OCRAM */
#define CONFIG_SPL_BSS_START_ADDR	0x913000
#define CONFIG_SPL_BSS_MAX_SIZE		  0x1400
#define CONFIG_SYS_SPL_MALLOC_START	0x914400
#define CONFIG_SYS_SPL_MALLOC_SIZE	  0x4800
/* Late malloc re init for printf to work */
#define CONFIG_SYS_SPL_MALLOC_DDR_START	0x18300000
#define CONFIG_SYS_SPL_MALLOC_DDR_SIZE	0x3200000  	/* 50 MB */

#endif

#endif
